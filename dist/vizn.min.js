import './style/popbox.css';
!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){"use strict";function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(){c(this,e)}return s(e,[{key:"rBlur",value:function(){if("android"==this.checkDetect().system){var e=document.createElement("style");e.type="text/css",e.id="rBlur",e.innerHTML="*{-webkit-tap-highlight-color:rgba(0,0,0,0)}",document.body.appendChild(e)}}},{key:"checkDetect",value:function(){var e={webkit:/(AppleWebKit)[ \/]([\w.]+)/,ipad:/(ipad).+\sos\s([\d+\_]+)/i,windows:/(windows\d*)\snt\s([\d+\.]+)/i,iphone:/(iphone)\sos\s([\d+\_]+)/i,ipod:/(ipod).+\sos\s([\d+\_]+)/i,android:/(android)\s([\d+\.]+)/i},t=window.navigator.userAgent,n=e.webkit.exec(t),o=/\((iPhone|iPad|iPod)/i.test(t),i=[];for(var c in e)e[c].exec(t)&&(i=e[c].exec(t));return{system:i[1].toLowerCase(),version:i[2].replace(/(\_|\.)/gi,".").toLowerCase(),browser:n?n[1].toLowerCase():"apple/webkit",ios:o}}},{key:"HTMLRemove",value:function(){var e=document.getElementById("TouchPopbox");e&&e.parentNode.removeChild(e)}}]),e}(),l=function(e){function t(e){c(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.settings=e||{},n.html=n.settings.html||"",n.contentId=n.settings.contentId||"",n.title=n.settings.title||"提示框",n.type=n.settings.type||"fullscreen",n.cancelText=n.settings.cancelText||"取消",n.submitText=n.settings.submitText||"确认",n.callback=n.settings.callback||function(){},n.submitCallback=n.settings.submitCallback||function(){},n.cancel=n.settings.cancel||function(){},n.loadTime=n.settings.loadTime||800,n.initializer(),n}return i(t,e),s(t,[{key:"initializer",value:function(){var e=this,t=document.getElementById("TouchPopbox");e.winH=window.document.documentElement.clientHeight;var n=document.createElement("div"),o=document.createElement("div"),i=document.createElement("div"),c=document.createElement("div"),s=document.createElement("div"),r=document.createElement("a"),l=document.createElement("a");switch(n.setAttribute("id","TouchPopbox"),n.setAttribute("class","touch-popbox"),o.setAttribute("id","popinner"),s.setAttribute("class","msg"),i.setAttribute("class","btn btn-sn-b"),r.setAttribute("id","popsubmit"),c.setAttribute("class","btn btn-sn-d"),l.setAttribute("id","popcancel"),e.type){case"fullscreen":n.setAttribute("class","touch-popbox touch-popbox-mask000"),n.append(s);break;case"confirm":l.append(e.cancelText),r.append(e.submitText),c.append(l),i.append(r),s.append(e.title),o.append(s,c,i),n.append(o);break;case"isok":r.append(e.submitText),i.append(r),s.append(e.title),o.append(s,i),n.append(o);break;default:n.setAttribute("class","touch-inner-popbox hide"),s.setAttribute("id","Pop_Content"),s.append(e.title),n.append(s)}if(e.html=n,e.systemComfirm(),!e.system)if(t||(document.body.appendChild(e.html),e.rBlur()),"fullscreen"!=e.type&&"confirm"!=e.type&&"isok"!=e.type)e.mini();else{e.start();var u=document.getElementById("popcancel");u&&u.addEventListener("click",function(){e.end()});var a=document.getElementById("popsubmit");a&&a.addEventListener("click",function(){e.submit()})}}},{key:"start",value:function(){var e=this,t=document.getElementById("TouchPopbox");t.style.display="block";var n=document.getElementById(e.contentId);n&&(document.getElementById("Pop_Content").innerHTML=n,n.style.display="block",n.style.position="fixed",n.style.width="100%",n.style.left=(document.body.offsetWidth-n.offsetWidth)/2+"px",n.style.top=document.body.scrollTop+window.document.documentElement.clientHeight/2-n.clientHeight/2+"px"),t.style.minHeight=e.winH+"px";var o=document.getElementById("popinner");o&&(o.style.left=(document.body.offsetWidth-o.offsetWidth)/2+"px",o.style.top=document.body.scrollTop+window.document.documentElement.clientHeight/2-o.clientHeight/2+"px")}},{key:"end",value:function(){var e=this;e.HTMLRemove(),e.cancel()}},{key:"submit",value:function(){var e=this;e.HTMLRemove(),e.submitCallback&&e.submitCallback()}},{key:"mini",value:function(){var e=this,t=document.getElementById("TouchPopbox");e.cls&&t.classList.add(e.cls),t&&(t.classList.add("popIn"),t.style.left=(document.body.offsetWidth-t.clientWidth)/2+"px",t.style.top=document.body.scrollTop+(window.document.documentElement.clientHeight-t.clientHeight)/2+"px",setTimeout(function(){t.classList.add("popOut"),setTimeout(function(){t.parentNode.removeChild(t)},1e3)},3e3))}},{key:"systemComfirm",value:function(){var e=this.systemSettings;if(this.system){var t={str:"",ok:function(){},cancel:function(){}};t=Object.assign(t,e),confirm(t.str)?t.ok():t.cancel()}}}]),t}(r);t.Dialog=function(e){function t(){return c(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),s(t,[{key:"snalert",value:function(e){this.HTMLRemove(),new l({title:e,type:"inner"})}},{key:"snconfirm",value:function(e,t,n,o,i){this.HTMLRemove(),new l({title:e,type:"confirm",cancelText:t,cancel:n,submitText:o,submitCallback:i})}},{key:"snisok",value:function(e,t){this.HTMLRemove(),new l({title:e,type:"isok",submitCallback:t})}},{key:"fullscreen",value:function(){this.HTMLRemove(),new l({type:"fullscreen"})}}]),t}(r),t.Toast=function(e){function t(){return c(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),s(t,[{key:"start",value:function(e){var t=document.createElement("div");t.setAttribute("id","progress"),t.setAttribute("style","z-index:10001; left:"),t.append(e),document.body.append(t);var n=document.getElementById("progress");n&&(n.style.left=(document.body.offsetWidth-n.offsetWidth)/2+"px",n.style.top=document.body.scrollTop+window.document.documentElement.clientHeight/2-n.clientHeight/2+"px"),this.HTMLRemove(),new l({type:"fullscreen"})}},{key:"loadPage",value:function(e){if(e)this.start(e);else{this.HTMLRemove();var t=document.getElementById("progress");t&&t.parentNode.removeChild(t)}}},{key:"loadUrl",value:function(e,t){t||(t="正在加载"),e&&t&&(this.start(t),document.layers?document.write('<Layer src="'+e+' " VISIBILITY="hide" > </Layer>'):document.all?document.write('<iframe src="'+e+'" style="visibility: hidden;"></iframe>'):window.location.href=e)}}]),t}(r)},function(e,t,n){"use strict";var o=n(0),i=new o.Dialog,c=new o.Toast;i.snconfirm("标题","",function(){i.snalert()},"",function(){c.loadPage("正在加载")})}]);
